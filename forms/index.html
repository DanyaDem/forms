<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="assets/css/my.css">
    <link rel="stylesheet" href="assets/css/baguga.css">
    <title>lesson 16</title>
</head>
<body>
    <!-- 1 -->
    <!-- <select id="genres">
        <option value="rock">Рок</option>
        <option value="blues" selected>Блюз</option>
    </select>
    <button id="button" onclick="go()"></button>
    <script>
        function go() {
            let getSelect = document.querySelector('#genres');
            getSelect[2] = new Option("Классика", "classic", true, true);
            getSelect[1].removeAttribute("selected");
        }
    </script> -->

    <!-- Редактрируемый div -->
    <!-- <ul>
        <li>Кликните на div ниже, чтобы отредактировать текст.</li>
        <li>Нажатие на Enter или потеря фокуса с ввода сохранят содержимое.</li>
      </ul>
    
      HTML-код разрешён.
    
      <div id="view" class="view">Текст</div>
    
      <script>
        let area = null;
        let view = document.getElementById('view');
        view.onclick = function() {
            edit();
        };
        function edit() {
            area = document.createElement('textarea');
            area.className = 'edit';
            area.value = view.innerHTML;
            area.onkeydown = function(hel) {
                if (hel.key == 'Enter') {
                    this.blur();
                }
            };
            area.onblur = function() {
                edited();
            };
            view.replaceWith(area);
            area.focus();
        }
        function edited() {
            view.innerHTML = area.value;
            area.replaceWith(view);
        }
      </script> -->

      <!-- Редактирование TD по клику  -->

<!-- <p>Кликните на ячейку таблицы, чтобы отредактировать её. Нажмите ОК или ОТМЕНА, когда закончите.</p>

    <table id="bagua-table">
        <tr>
        <th colspan="3">Квадрат <em>Bagua</em>: Направление, Элемент, Цвет, Значение</th>
        </tr>
        <tr>
        <td class="nw"><strong>Северо-Запад</strong>
            <br>Металл
            <br>Серебро
            <br>Старейшины
        </td>
        <td class="n"><strong>Север</strong>
            <br>Вода
            <br>Синий
            <br>Перемены
        </td>
        <td class="ne"><strong>Северо-Восток</strong>
            <br>Земля
            <br>Жёлтый
            <br>Направление
        </td>
        </tr>
        <tr>
        <td class="w"><strong>Запад</strong>
            <br>Металл
            <br>Золото
            <br>Молодость
        </td>
        <td class="c"><strong>Центр</strong>
            <br>Всё
            <br>Пурпурный
            <br>Гармония
        </td>
        <td class="e"><strong>Восток</strong>
            <br>Дерево
            <br>Синий
            <br>Будущее
        </td>
        </tr>
        <tr>
        <td class="sw"><strong>Юго-Запад</strong>
            <br>Земля
            <br>Коричневый
            <br>Спокойствие
        </td>
        <td class="s"><strong>Юг</strong>
            <br>Огонь
            <br>Оранжевый
            <br>Слава
        </td>
        <td class="se"><strong>Юго-Восток</strong>
            <br>Дерево
            <br>Зеленый
            <br>Роман
        </td>
        </tr>

    </table>
    <script>
        let table = document.getElementById('bagua-table');
        let edit;
        table.onclick = function(hel) {
            let target = hel.target.closest('.edit-cancel, .edit-ok, td');
            if (!table.contains(target)) return;
            if (target.className == 'edit-cancel') {
                fTdEdit(edit.elem, false);
            }
            else if (target.className == 'edit-ok') {
                fTdEdit(edit.elem, true);
            }
            else if (target.nodeName == 'TD') {
                if (edit) return;
                tdEditable(target);
            }
        };
        function tdEditable(td) {
            edit = {
                elem: td,
                data: td.innerHTML
            };
            td.classList.add('edit-td');
            let textArea = document.createElement('textarea');
            textArea.style.width = td.clientWidth + 'px';
            textArea.style.height = td.clientHeight + 'px';
            textArea.className = 'edit-area';
            textArea.value = td.innerHTML;
            td.innerHTML = '';
            td.appendChild(textArea);
            textArea.focus();
            td.insertAdjacentHTML("beforeEnd", 
                '<div class="edit-controls"><button class="edit-ok">OK</button><button class="edit-cancel">CANCEL</button></div>');
        }
        function fTdEdit(td, isOk) {
            if (isOk) {
                td.innerHTML = td.firstChild.value;
            }
            else {
                td.innerHTML = edit.data;
            }
            td.classList.remove('edit-td');
            edit = null;
        }
    </script> -->
</body>
</html>